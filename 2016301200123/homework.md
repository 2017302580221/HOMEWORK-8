# 第四章

## 课后习题

### P8

∵ 一般需要尽可能充分地利用地址空间，划分的子网应刚好满足要求；且，子网的地址数目为2的幂；且，为保留子网号和广播地址，实际子网所需的地址数目为要求的接口数目加2；

∴ 首先观察大于（60+2）、（90+2）、（12+2）的、最小的2的幂。

基于此，设计三个网络地址（个人感觉，按照规模，从大到小依次分配容易理解）：

| 网络地址        | 子网地址数目 | 提供的接口数目 | 所需的接口数目 |
| --------------- | ------------ | -------------- | -------------- |
| 223.1.17.0/25   | 128          | 126            | 90             |
| 223.1.17.128/26 | 64           | 62             | 60             |
| 223.1.17.192/28 | 16           | 14             | 12             |

### P15

假设传输层采用TCP协议，TCP首部同样占用20字节，

所以每个数据包实际所能携带的最大有效数据量为1460字节。

ceil(5MB / 1460Byte) ≈ 3591

即，发送一个5MB的MP3文件需要3591个数据包。

### P20

比较方便的是，发往主机h1、h2或主机h5、h6的数据报可以分别通过目的地址10.1.\*.\*和10.3.\*.\*标识。顺、逆时针方向转发可以通过转到端口2、1来实现。得到s2中流表项如下：

s2流表

| 匹配                                  | 动作       |
| ------------------------------------- | ---------- |
| Ingress Port = 3；IP Dst = 10.1.\*.\* | Forward(2) |
| Ingress Port = 3；IP Dst = 10.3.\*.\* | Forward(2) |
| Ingress Port = 4；IP Dst = 10.1.\*.\* | Forward(1) |
| Ingress Port = 4；IP Dst = 10.3.\*.\* | Forward(1) |

