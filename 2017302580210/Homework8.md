# Homework8

> 于佳艺  2017302580210

### Chapter4

#### P8.

考虑互联3个子网（子网1、子网2和子网3）的一台路由器。假定这3个子网的所有接口要求具有 前缀223.1.17/24。还假定子网1要求支持多达60个接口，子网2要求支持多达90个接口，子网3 要求支持多达12个接口。提供3个满足这些限制的网络地址（形式为a. b.c.d/x）

解： 为保留子网号和广播地址，实际子网所需的地址数目为要求的接口数目加2

∴ 首先观察大于（60+2）、（90+2）、（12+2）的、最小的2的幂。

子网一：223.1.17.1 /26，有64个子网地址，可以利用的接口数为62，

子网二：223.1.17.0 /25，有128个子网地址，可以利用的接口数为126，

子网三：223.1.17.0 /28，有16个子网地址，可以利用的接口数为14.

#### P15.

假定在源主机A和目的主机B之间的数据报被限制为1500字节（包括首部）。假设IP首部为20字节，要发送一个5MB的MP3文件需要多少个数据报？解释你的答案是如何计算的。 

解： 传输层不管是UDP还是TCP，首部都占用20字节 

5000000B/1460B=3425 

需要3425个数据报

#### P19.

考虑显示在图4-30中的SDN OpenFlow网络。假定对于到达s2的数据报的期望转发行为如下：

•来自主机h5或h6并且发往主机h1或h2的任何数据报应当通过输出端口 2转发到输入端口 1

•来自主机h1或h2并且发往主机h5或h6的任何数据报应当通过输出端口 1转发到输入端口 2

•任何在端口 1或2到达并且发往主机h3或h4的数据报应当传递到特定的主机。

•主机h3和h4应当能够向彼此发送数据报。 

详述实现这种转发行为的s2中的流表项。 

解：

| Match                                                  | Action      |
| ------------------------------------------------------ | ----------- |
| Ingress Port = 1; IP Src = 10.3.*.*; IP Dst = 10.1.*.* | Forward (2) |
| Ingress Port = 2; IP Src = 10.1.*.*; IP Dst = 10.3.*.* | Forward (1) |
| Ingress Port = 1; IP Dst = 10.2.0.3                    | Forward (3) |
| Ingress Port = 2; IP Dst = 10.2.0.3                    | Forward (3) |
| Ingress Port = 1; IP Dst = 10.2.0.4                    | Forward (4) |
| Ingress Port = 2; IP Dst = 10.2.0.4                    | Forward (4) |
| Ingress Port = 4                                       | Forward (3) |
| Ingress Port = 3                                       | Forward (4) |