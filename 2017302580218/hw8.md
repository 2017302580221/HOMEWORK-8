## 第四章课后习题(2)

- 2017302580218
- 陈炳生

---

#### P16

答：

- a) 家庭IP地址：192.168.1.1、192.168.1.2、192.168.1.3，路由器接口的为192.168.1.4
- b) 

| NAT 转换表          |                   |
| ------------------- | ----------------- |
| 外网                | 内网              |
| 24.34.112.235, 5001 | 192.168.1.1, 3345 |
| 24.34.112.235, 5002 | 192.168.1.1, 3346 |
| 24.34.112.235, 5003 | 192.168.1.2, 3445 |
| 24.34.112.235, 5004 | 192.168.1.2, 3446 |
| 24.34.112.235, 5005 | 192.168.1.3, 3545 |
| 24.34.112.235, 5006 | 192.168.1.3, 3546 |

#### P17

答：

- a）如果能够俘获到所有发向外部的 IP分组，而每个主机发送的所有IP分组的标识号都自成一个序列，那么我们只需要评估这样的标识号序列的个数有多少，NAT后面的主机数量就有多少。
- b）如果标识号不是顺序分配的，那么每个主机发送的IP分组就不会形成一个序列，这种技术就无法正常工作了。



#### P19

答：

| 匹配                                                   | 动作       |
| ------------------------------------------------------ | ---------- |
| Ingress Port=1; IP Src: 10.3.\*.\*; IP Dst: 10.1.\*.\* | Forward(2) |
| Ingress Port=2; IP Src: 10.1.\*.\*; IP Dst: 10.3.\*.\* | Forward(1) |
| Ingress Port=1; IP Dst: 10.2.0.3                       | Forward(3) |
| Ingress Port=1; IP Dst: 10.2.0.4                       | Forward(4) |
| Ingress Port=2; IP Dst: 10.2.0.3                       | Forward(3) |
| Ingress Port=2; IP Dst: 10.2.0.4                       | Forward(4) |
| Ingress Port=3; IP Dst: 10.2.0.4                       | Forward(4) |
| Ingress Port=4; IP Dst: 10.2.0.3                       | Forward(3) |



